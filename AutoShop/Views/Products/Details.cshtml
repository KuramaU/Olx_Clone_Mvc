@model Data.Entities.Product;

<div class="card text-center">
    
    <div class="card-body product-card">
        <p class="card-text">@Model.Category.Name</p>
        <p class="fa fa-map-marker">обл. @Model.District.Name</p>

        <h3 class="card-title">@Model.Name</h3>
        @if (Model.Images != null && Model.Images.Any())
        {
            foreach (var image in Model.Images)
            {
                <img src="data:image/jpeg;base64,@(Convert.ToBase64String(image.ImageData))" alt="..." />
            }
        }
        @if (Model.Discout != null)
        {
            var discountedPrice = Model.Price * (100 - Model.Discout) / 100;
            string formattedPrice = discountedPrice?.ToString("0.00##");
            <p>
                <span class="badge bg-danger text-decoration-line-through">@Model.Price UAH</span>
                <br>Price: <span class="badge bg-danger">@formattedPrice UAH</span>
            </p>
        }
        else
        {
            <p>Price: <span class="badge bg-primary">@Model.Price UAH</span></p>
        }
        <p>Знижка: <span class="badge bg-secondary">@(Model.Discout ?? 0)%</span></p>
        <h4>Опис</h4>
        <p>@Model.Description</p>
    </div>
</div>
